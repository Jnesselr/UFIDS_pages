<!DOCTYPE html>
<html>
<head>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46295864-1', 'ufids.org');
  ga('send', 'pageview');

</script>
<style>
/*******************************************************************************
All of the CSS for this page is contained this the style group, if you plan to embed
this into your page, you can change this CSS for your formatting purposes. The HTML is
Contained in the center of the document and the JavaScript is contained at the end.
*******************************************************************************/
* {
	margin: 0px;
	padding: 0px;
	border: none;
}

body 
{
	background-color: #d8d8d8;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12pt;
	color: #000066;
}
#entirePage
{
margin: auto;
	width: 1000px;
}
div.contentArea
{
	width:1000px;
}

div.leftHalfContent
{
	float:left;
	width: 500px;
}

div.rightHalfContent
{
	float:right;
	width: 500px;
}
div.row 
{
	clear: both;
	padding-top: 5px;
}
span.title
{
	text-align: center;
}
div.row span.label 
{
	float: left;
	width: 250px;
	text-align: right;
}

div.row span.formw 
{
	width: 250px;
	text-align: left;
}
div.qrSection
{
	text-align:center;
}
div.section
{
	font-size:12pt;
}
ul
{
list-style-type:none;
margin:0;
padding:0;
}
li
{
display:inline;
}
button{
height: 20px;
width: 100px;
}
buttonRow{
align: center;
}
configButton {
	background-color:#ededed;
	color: #000066;
}
.configButton:hover {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #dfdfdf), color-stop(1, #ededed) );
	background:-moz-linear-gradient( center top, #dfdfdf 5%, #ededed 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#ededed');
	background-color:#dfdfdf;
}.configButton:active {
	position:relative;
	top:1px;
}

</style>
</head>
<body>
<!-- Start of page-->

<div id="entirePage">

<div id="topNavPannel">
	<ul>
	<li><a href="https://github.com/camerin/UFIDS_pages/wiki">Chi è UFID</a></li>
	<li><a href="https://plus.google.com/u/0/communities/107859862288161234107/stream/bc55a66d-52ff-4453-bc98-8fc9d9df1744">Community</a></li>
	<li><a href="https://github.com/camerin/UFIDS_pages">Sorgenti</a></li>
</ul>
</div>
<!--End of topNavPannel-->


<div class="contentArea">
<div><span class="title"><h1>Release Candidate 1.3</h1></span></div>
<div><span class="title"> <h3>(Soggetto a cambiamenti) </h3> </span></div>
	<div class="leftHalfContent">
		<form id="fillableForm">
			<div class="section">
				<span class="title"><h2>Grandezze Fisiche</h2></span>
				<div class="row">
					<span class="label">Diametro nominale (mm): </span>
					<span class="formw"><input id="diameter" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label"> Tolleranza (±mm):</span>
					<span class="formw"> <input id="tolerance" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label"> Volume intera bobina (cm 3 ):</span>
					<span class="formw"> <input id="volume" type="text" size="25" onChange="new_input()"/></span>
				</div>
			</div>
			<div class="section">
				<span class="title"><h2>Profilo Termico</h2></span>
				<div class="row">
					<span class="label">Temperat. ideale di stampa (C):</span>
					<span class="formw"> <input id="print_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Temperatura da non superare (C):</span>
					<span classs="formw"> <input id="dne_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Temp. piattaforma riscaldata (C):</span>
					<span class-"formw"><input id="bed_emp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Temper. camera di stampa (C):</span>
					<span class="formw"> <input id="chamber_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Temp. min. per estrusione (C):</span>
					<span class="formw"> <input id="minimum_extrusion_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Temp. punto di solidificazione (C):</span>
					<span class="formw"> <input id="glass_transition_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
			</div>
			<div class="section">
				<span class="title"><h2>Informazioni di Produzione</h2></span>
				<div class="row">
					<span class="label">Colore:</span>
					<span class="formw"><input id="color" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Codice miscela:</span>
					<span class="formw"><select id="mixture_id" onChange="new_input()"/>
						<option></option>
						<option>PLA (Acido Polilattico) 4032D</option>
						<option>PLA 4042D</option>
						<option>PLA 4043D</option>
						<option>PLA 2003D</option>
						<option>PLA/PHA (Poliidrossialcanoati)</option>
						<option>PLA ad alta temperatura</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option>ABS</option>
						<option>MABS</option>
						<option>P430 ABS ("ABS Plus")</option>
						<option>ABS CM - PA-747</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option>Miscela PC/ABS</option>
						<option>PC (Policarbonato)</option>
						<option>PET</option>
						<option>Nylon 618</option>
						<option> Nylon 645</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option> PCL (Polycapralactone)</option>
						<option>PVA (Alcool di Polivinile)</option>
						<option> HIPS (Polistirene ad alto impatto)</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option> Flessibile/alto-impatto PLA</option>
						<option>Poliestere flessibile</option>
						<option>Uretano TPE </option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option>HDPE</option>
						<option>PP (Polipropilene)</option>
						<option>PMMA (Poli-metil-metacrilato)</option>
						<option>POM (Poliossimetilene)</option>
					</select>	
					</span>
   				</div>
   				<div class="row">
					<span class="label">Proprietà del Materiale:</span>
					<span class="formw"><select id="material_properties"onChange="new_input()"/>
						<option></option>
						<option>Metallico</option>
						<option>Conduttivo</option>
						<option>Fosforescente</option>
						<option>Flessibile</option>
						<option>Colore termo-dipendente</option>
						<option>Termocromico</option>
						<option>Composito</option>
					</select>
					</span>
				</div>
				<div class="row">
					<span class="label">Trasparenza:</span>
					<span class="formw"><input id="transparency" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Gtin\EAN\UPC:</span>
					<span class="fromw"> <input id="gtin" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Testo leggibile su etichetta:</span>
					<span class="fromw"> <input id="human_readable_string" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Codice generato dall'utente:</span>
					<span class="fromw"> <input id="user_generated_code" type="checkbox" size="25" onChange="new_input()"/></span>
				</div>
			</div>
 		</form>
	</div>

	<div class="rightHalfContent">
		<span class="title"><h2>Informazioni Etichetta</h2></span>
		<div class="qrSection">
			<img id="qrcode">
		</div> 
			<div class="section">
				<div class="row">
					<span class="label">Contenuto QR:</span>
					<span class="formw"><input id="qrContent" type="text" size="25" onChange="new_hex_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Compilato Binario:</span>
					<span class="formw"><input id="compiledBinary" type="text" new_hex_input()"></span>
				</div>
				<div class="row">
					<span class="label"> Slic3r:</span>
					<button type="button" onclick="download_slic3r_config()" class="configButton">Scarica Config</button>
				</div>
			</div>
		</div>
		
	</div>
	<div id="list1" style="display:none;">
		Stiamo raccogliendo dati sui tipi di filamento, eventuali vostre informazioni aiuterebbero il progetto. Vi piacerebbe partecipare immettendo le informazioni in questa pagina ? Attenzione che dopo aver immesso i dati, e cliccato su 'invia dati' la pagina sarà cancellata.
	<br>
	<button type="button" onclick="submit_hex()">Invia dati</button>
	<form name="frm" method="post" action="test.php">
	<input type="hidden" name="qrData" value="test"></input>
	</form>
	</div>
	
	  <!--End of mainContentArea-->

	<div id="footer">
		<!-- this is a place holder for further navigation and design-->
	</div>
<!--End of footer-->
</div>
<!--End of entirePage-->  
<script src="http://ufids.org/ufid_library.js">
</script>
<script>


/*************************************************************************************************************
This section of the code validates the user input. this section is meant for error checking only
*************************************************************************************************************/
on_load();
function download_slic3r_config(){
	var UFID_test= new UFID();
	if( document.getElementById("user_generated_code").checked)
	{
		var flags=1;
	}
	UFID_test.version=1;
	UFID_test.flags=flags;
	var temporary=document.getElementById("diameter");
	UFID_test.diameter=parseFloat(temporary.value);
	var temporary=document.getElementById("tolerance");
	UFID_test.tolerance=parseFloat(temporary.value);
	var temporary=document.getElementById("glass_transition_temp");
	UFID_test.glass_transition_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("print_temp");
	UFID_test.print_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("minimum_extrusion_temp");
	UFID_test.minimum_extrusion_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("dne_temp");
	UFID_test.do_not_exceed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("chamber_temp");
	UFID_test.chamber_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("bed_emp");
	UFID_test.bed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("transparency");
	UFID_test.transparency=parseFloat(temporary.value);
	UFID_test.color=document.getElementById("color").value;
	var temporary=document.getElementById("mixture_id")
	UFID_test.mixture_id=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("volume");
	UFID_test.volume=parseFloat(temporary.value);
	var temporary=document.getElementById("material_properties")
	UFID_test.material_properties=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("gtin");
	UFID_test.gtin=parseFloat(temporary.value);
	UFID_test.human_readable_string=document.getElementById("human_readable_string");

	UFID_test.download_slicer_ini();

}
function on_load(){

	var initial = new UFID();
	initial.interpret_hash();

	document.getElementById("diameter").value=initial.diameter.toString();
	document.getElementById("tolerance").value=initial.tolerance.toString();
	document.getElementById("glass_transition_temp").value=initial.glass_transition_temp.toString();
	document.getElementById("print_temp").value=initial.print_temp.toString();
	document.getElementById("minimum_extrusion_temp").value=initial.minimum_extrusion_temp.toString();
	document.getElementById("dne_temp").value=initial.do_not_exceed_temp.toString();
	document.getElementById("chamber_temp").value=initial.chamber_temp.toString();
	document.getElementById("bed_emp").value=initial.bed_temp.toString();
	document.getElementById("transparency").value=initial.transparency.toString();
	document.getElementById("color").value=initial.color;
	document.getElementById("mixture_id").selectedIndex=initial.mixture_id;
	document.getElementById("volume").value=initial.volume.toString();
	document.getElementById("material_properties").selectedIndex=initial.material_properties;
	document.getElementById("gtin").value=initial.gtin.toString();
	document.getElementById("compiledBinary").value=initial.hex;

	initial.make_url();
	document.getElementById("qrContent").value=initial.url;
	make_qr(initial);
}

function new_input(){

	var UFID_test= new UFID();
	
	if( document.getElementById("user_generated_code").checked)
	{
		var flags=1;
	}
	UFID_test.version=1;
	UFID_test.flags=flags;
	var temporary=document.getElementById("diameter");
	UFID_test.diameter=parseFloat(temporary.value);
	var temporary=document.getElementById("tolerance");
	UFID_test.tolerance=parseFloat(temporary.value);
	var temporary=document.getElementById("glass_transition_temp");
	UFID_test.glass_transition_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("print_temp");
	UFID_test.print_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("minimum_extrusion_temp");
	UFID_test.minimum_extrusion_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("dne_temp");
	UFID_test.do_not_exceed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("chamber_temp");
	UFID_test.chamber_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("bed_emp");
	UFID_test.bed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("transparency");
	UFID_test.transparency=parseFloat(temporary.value);
	UFID_test.color=document.getElementById("color").value;
	var temporary=document.getElementById("mixture_id")
	UFID_test.mixture_id=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("volume");
	UFID_test.volume=parseFloat(temporary.value);
	var temporary=document.getElementById("material_properties")
	UFID_test.material_properties=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("gtin");
	UFID_test.gtin=parseFloat(temporary.value);
	UFID_test.human_readable_string=document.getElementById("human_readable_string");
	UFID_test.compile_hex();
	
	document.getElementById("diameter").value=UFID_test.diameter.toString();
	document.getElementById("tolerance").value=UFID_test.tolerance.toString();
	document.getElementById("glass_transition_temp").value=UFID_test.glass_transition_temp.toString();
	document.getElementById("print_temp").value=UFID_test.print_temp.toString();
	document.getElementById("minimum_extrusion_temp").value=UFID_test.minimum_extrusion_temp.toString();
	document.getElementById("dne_temp").value=UFID_test.do_not_exceed_temp.toString();
	document.getElementById("chamber_temp").value=UFID_test.chamber_temp.toString();
	document.getElementById("bed_emp").value=UFID_test.bed_temp.toString();
	document.getElementById("transparency").value=UFID_test.transparency.toString();
	document.getElementById("color").value=UFID_test.color;
	document.getElementById("mixture_id").index=UFID_test.mixture_id;
	document.getElementById("volume").value=UFID_test.volume.toString();
	document.getElementById("material_properties").index=UFID_test.material_properties;
	document.getElementById("gtin").value=UFID_test.gtin.toString();
	document.getElementById("compiledBinary").value=UFID_test.hex;
	UFID_test.compile_hex();
	UFID_test.make_url();
	document.getElementById("qrContent").value=UFID_test.url;
	make_qr(UFID_test);
	
	if ((UFID_test.print_temp>100)&&(UFID_test.mixture_id!=0)){
		set_visibility(true);
	}

}

function make_qr(object){
// this uses the google QR API to make a QR code for the project
        var size, QRData;
		object.make_url();
        document.getElementById("qrcode").setAttribute('src','http://chart.apis.google.com/chart?chs=220x220&cht=qr&chl=' + object.qr_url +"&chld=|0");
}

function submit_hex(){
	var UFID_test= new UFID();
	
	if( document.getElementById("user_generated_code").checked)
	{
		var flags=1;
	}
	UFID_test.version=1;
	UFID_test.flags=flags;
	var temporary=document.getElementById("diameter");
	UFID_test.diameter=parseFloat(temporary.value);
	var temporary=document.getElementById("tolerance");
	UFID_test.tolerance=parseFloat(temporary.value);
	var temporary=document.getElementById("glass_transition_temp");
	UFID_test.glass_transition_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("print_temp");
	UFID_test.print_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("minimum_extrusion_temp");
	UFID_test.minimum_extrusion_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("dne_temp");
	UFID_test.do_not_exceed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("chamber_temp");
	UFID_test.chamber_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("bed_emp");
	UFID_test.bed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("transparency");
	UFID_test.transparency=parseFloat(temporary.value);
	UFID_test.color=document.getElementById("color").value;
	var temporary=document.getElementById("mixture_id")
	UFID_test.mixture_id=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("volume");
	UFID_test.volume=parseFloat(temporary.value);
	var temporary=document.getElementById("material_properties")
	UFID_test.material_properties=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("gtin");
	UFID_test.gtin=parseFloat(temporary.value);
	UFID_test.human_readable_string=document.getElementById("human_readable_string");
	UFID_test.compile_hex();
	set_visibility(false);
	window.document.frm.qrData.value = UFID_test.hex;
	window.document.frm.action = "test.php";
	window.document.frm.submit();
	
}

function set_visibility(on) {
       var e = document.getElementById('list1');
       if(on){
				e.style.display = 'block';
       }else{
			e.style.display = 'none';
		}
}


</script>


</body>

</html>