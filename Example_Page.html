<!DOCTYPE html>
<html>
<head>
<style>
/*******************************************************************************
All of the CSS for this page is contained this the style group, if you plan to embed
this into your page, you can change this CSS for your formating purposes. The HTML is
Contained in the center of the document and the Javascript is contained at the end.
*******************************************************************************/
* {
	margin: 0px;
	padding: 0px;
	border: none;
}

body 
{
	background-color: #d8d8d8;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12pt;
	color: #000066;
}
#entirePage
{
margin: auto;
	width: 1000px;
}
div.contentArea
{
	width:1000px;
}

div.leftHalfContent
{
	float:left;
	width: 500px;
}

div.rightHalfContent
{
	float:right;
	width: 500px;
}
div.row 
{
	clear: both;
	padding-top: 5px;
}

div.row span.label 
{
	float: left;
	width: 250px;
	text-align: right;
}

div.row span.formw 
{
	width: 250px;
	text-align: left;
}
div.qrSection
{
	text-align:center;
}
div.section
{
	font-size:12pt;
}
ul
{
list-style-type:none;
margin:0;
padding:0;
}
li
{
display:inline;
}
button{
height: 20px;
width: 100px;
}
buttonRow{
align: center;
}
configButton {
	background-color:#ededed;
	color: #000066;
}
.configButton:hover {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #dfdfdf), color-stop(1, #ededed) );
	background:-moz-linear-gradient( center top, #dfdfdf 5%, #ededed 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#ededed');
	background-color:#dfdfdf;
}.configButton:active {
	position:relative;
	top:1px;
}

</style>
</head>
<body>
<!-- Start of page-->

<div id="entirePage">

<div id="topNavPannel">
	<ul>
	<li><a href="https://github.com/camerin/UFIDS_pages/wiki">About UFID</a></li>
	<li><a href="https://plus.google.com/u/0/communities/107859862288161234107/stream/bc55a66d-52ff-4453-bc98-8fc9d9df1744">Community</a></li>
	<li><a href="https://github.com/camerin/UFIDS_pages">Source</a></li>
</ul>
</div>
<!--End of topNavPannel-->


<div class="contentArea">
	<div class="leftHalfContent">
		<form id="fillableForm">
			<div class="section">
				<h2>Physical size</h2>
				<div class="row">
					<span class="label">Nominal Diameter (mm): </span>
					<span class="formw"><input id="diameter" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label"> Tolerance (±mm):</span>
					<span class="formw"> <input id="tolerance" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label"> Full Spool volume (cm 3 ):</span>
					<span class="formw"> <input id="volume" type="text" size="25" onChange="new_input()"/></span>
				</div>
			</div>
			<div class="section">
				<h2>Thermal Profile</h2>
				<div class="row">
					<span class="label">Recomended Print Temp. (C):</span>
					<span class="formw"> <input id="print_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Do Not Exceed Temp(C):</span>
					<span classs="formw"> <input id="dne_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Print Bed Temp. (C):</span>
					<span class-"formw"><input id="bed_emp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Print Chamber Temp (C):</span>
					<span class="formw"> <input id="chamber_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Minimum Extrusion Temp(C):</span>
					<span class="formw"> <input id="minimum_extrusion_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Glass Transition Temp Temp (C):</span>
					<span class="formw"> <input id="glass_transition_temp" type="text" size="25" onChange="new_input()"/></span>
				</div>
			</div>
			<div class="section">
				<h2>Manufacturing information</h2>
				<div class="row">
					<span class="label">Color:</span>
					<span class="formw"><input id="color" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Mixture Code:</span>
					<span class="formw"><select id="mixture_id" onChange="new_input()"/>
						<option></option>
						<option>PLA (Polylactic Acid) 4032D</option>
						<option>PLA 4042D</option>
						<option>PLA 4043D</option>
						<option>PLA 2003D</option>
						<option>PLA/PHA (Polyhydroxyalkanoates)</option>
						<option>High Temp PLA</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option>ABS</option>
						<option>MABS</option>
						<option>P430 ABS ("ABS Plus")</option>
						<option>ABS CM - PA-747</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option>PC/ABS Blend</option>
						<option>PC (Polycarbonate)</option>
						<option>PETT</option>
						<option>Nylon 618</option>
						<option> Nylon 645</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option> PCL (Polycapralactone)</option>
						<option>PVA (Polyvinyl Alcohol)</option>
						<option> HIPS (High Impact Polystyrene)</option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option> Flexible/high-impact PLA</option>
						<option>Flexible polyester</option>
						<option>Urethane TPE </option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option></option>
						<option>HDPE</option>
						<option>PP (PolyPropylene)</option>
						<option>PMMA (Poly(methyl methacrylate))</option>
						<option>POM (Polyoxymethylene)</option>
					</select>	
					</span>
   				</div>
   				<div class="row">
					<span class="label">Material Properties:</span>
					<span class="formw"><select id="material_properties"onChange="new_input()"/>
						<option></option>
						<option>Metalic</option>
						<option>Conductive</option>
						<option>Phosphorescent</option>
						<option>Flexible</option>
						<option>Thermal dependent color</option>
						<option>Thermochromic</option>
						<option>Composite</option>
					</select>
					</span>
				</div>
				<div class="row">
					<span class="label">Opacity:</span>
					<span class="formw"><input id="opacity" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Gtin\EAN\UPC:</span>
					<span class="fromw"> <input id="gtin" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Human Readable String:</span>
					<span class="fromw"> <input id="human_readable_string" type="text" size="25" onChange="new_input()"/></span>
				</div>
				<div class="row">
					<span class="label">User Generated Code:</span>
					<span class="fromw"> <input id="user_generated_code" type="checkbox" size="25" onChange="new_input()"/></span>
				</div>
			</div>
 		</form>
	</div>

	<div class="rightHalfContent">
		<h2>Physical Tag Info</h2>
		<div class="qrSection">
			<img id="qrcode">
		</div> 
			<div class="section">
				<div class="row">
					<span class="label">QR Contents:</span>
					<span class="formw"><input id="qrContent" type="text" size="25" onChange="new_hex_input()"/></span>
				</div>
				<div class="row">
					<span class="label">Compiled Binary:</span>
					<span class="formw"><input id="compiledBinary" type="text" new_hex_input()"></span>
				</div>
				<div class="row">
					<span class="label"> Slic3r:</span>
					<button type="button" onclick="downloadSlic3rConfig()" class="configButton">Download Config</button>
				</div>
			</div>
		</div>
		
	</div>
	  <!--End of mainContentArea-->

	<div id="footer">
		<!-- this is a place holder for futher navigation and design-->
	</div>
<!--End of footer-->
</div>
<!--End of entirePage-->  
<script src="http://ufids.org/ufid_library.js">
</script>
<script>

//When a user navigates to the page via a QR code, the URL will contain all of the data used to ID the material, this section of code reads that information
/*

if(window.location.hash) 
{
	// hash found
	var hash = window.location.hash.substring(1); //Puts hash in variable, and removes the # character
	hex=hash; //this loads the Hash variable into the variable hex for processing.
	interpretBinary(); // interpretBinary function will handle the parsing of the hex value passed to the script
	
  } else {
      // No hash found
	hex=0; // becasue no variable was passed, the script sets Hex to zero.
	makeQR(); // The make QR code script will create a QR code for an empty string
}
*/
/*************************************************************************************************************
This section of the code validates the user input. this section is ment for error checking only
*************************************************************************************************************/
on_load();

function on_load(){
	var initial = new UFID();
	initial.interpret_hash();
	document.getElementById("diameter").value=initial.diameter.toString();
	document.getElementById("tolerance").value=initial.tolerance.toString();
	document.getElementById("glass_transition_temp").value=initial.glass_transition_temp.toString();
	document.getElementById("print_temp").value=initial.print_temp.toString();
	document.getElementById("minimum_extrusion_temp").value=initial.minimum_extrusion_temp.toString();
	document.getElementById("dne_temp").value=initial.do_not_exceed_temp.toString();
	document.getElementById("chamber_temp").value=initial.chamber_temp.toString();
	document.getElementById("bed_emp").value=initial.bed_temp.toString();
	document.getElementById("opacity").value=initial.opacity.toString();
	document.getElementById("color").value=initial.color;
	document.getElementById("mixture_id").index=initial.mixture_id;
	document.getElementById("volume").value=initial.volume.toString();
	document.getElementById("material_properties").index=initial.material_properties;
	document.getElementById("gtin").value=initial.gtin.toString();
	document.getElementById("compiledBinary").value=initial.hex;
	initial.compile_hex();
	initial.make_url();
	document.getElementById("qrContent").value=initial.url;
	make_qr(initial);
}

function new_input()
{

	var UFID_test= new UFID();
	
	if( document.getElementById("user_generated_code").checked)
	{
		var flags=1;
	}
	UFID_test.version=1;
	UFID_test.flags=flags;
	var temporary=document.getElementById("diameter");
	UFID_test.diameter=parseFloat(temporary.value);
	var temporary=document.getElementById("tolerance");
	UFID_test.tolerance=parseFloat(temporary.value);
	var temporary=document.getElementById("glass_transition_temp");
	UFID_test.glass_transition_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("print_temp");
	UFID_test.print_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("minimum_extrusion_temp");
	UFID_test.minimum_extrusion_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("dne_temp");
	UFID_test.do_not_exceed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("chamber_temp");
	UFID_test.chamber_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("bed_emp");
	UFID_test.bed_temp=parseFloat(temporary.value);
	var temporary=document.getElementById("opacity");
	UFID_test.opacity=parseFloat(temporary.value);
	UFID_test.color=document.getElementById("color").value;
	var temporary=document.getElementById("mixture_id")
	UFID_test.mixture_id=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("volume");
	UFID_test.volume=parseFloat(temporary.value);
	var temporary=document.getElementById("material_properties")
	UFID_test.material_properties=temporary.options[temporary.selectedIndex].index;
	var temporary=document.getElementById("gtin");
	UFID_test.gtin=parseFloat(temporary.value);
	UFID_test.human_readable_string=document.getElementById("human_readable_string");
	UFID_test.compile_hex();
	
	document.getElementById("diameter").value=UFID_test.diameter.toString();
	document.getElementById("tolerance").value=UFID_test.tolerance.toString();
	document.getElementById("glass_transition_temp").value=UFID_test.glass_transition_temp.toString();
	document.getElementById("print_temp").value=UFID_test.print_temp.toString();
	document.getElementById("minimum_extrusion_temp").value=UFID_test.minimum_extrusion_temp.toString();
	document.getElementById("dne_temp").value=UFID_test.do_not_exceed_temp.toString();
	document.getElementById("chamber_temp").value=UFID_test.chamber_temp.toString();
	document.getElementById("bed_emp").value=UFID_test.bed_temp.toString();
	document.getElementById("opacity").value=UFID_test.opacity.toString();
	document.getElementById("color").value=UFID_test.color;
	document.getElementById("mixture_id").index=UFID_test.mixture_id;
	document.getElementById("volume").value=UFID_test.volume.toString();
	document.getElementById("material_properties").index=UFID_test.material_properties;
	document.getElementById("gtin").value=UFID_test.gtin.toString();
	document.getElementById("compiledBinary").value=UFID_test.hex;
	UFID_test.compile_hex();
	UFID_test.make_url();
	document.getElementById("qrContent").value=UFID_test.url;
	make_qr(UFID_test);

}

function make_qr(object)
{
// this uses the google QR API to make a QR code for the project
        var size, QRData;
		object.make_url();
        document.getElementById("qrcode").setAttribute('src','http://chart.apis.google.com/chart?chs=220x220&cht=qr&chl=' + object.qr_url +"&chld=|0");
}

</script>


</body>

</html>